{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import DriveVideoEmbed from\"./DriveVideoEmbed.jsx\";import{useMediaQuery}from\"react-responsive\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VideoSlider(_ref){let{videoList,currentVideoId,setCurrentVideoId}=_ref;const isDesktop=useMediaQuery({query:\"(min-width: 801px)\"});const visibleVideos=isDesktop?4:2;const[initialId,setInitialId]=useState(0);function assignListIds(videos){return videos.map((video,listId)=>({...video,listId}));}videoList=assignListIds(videoList);const getDisplayVideos=startIndex=>{const videos=[];for(let i=0;i<visibleVideos;i++){const video=videoList[(startIndex+i)%videoList.length];if(video&&video.listId!==undefined&&!videos.some(v=>v.listId===video.listId)){videos.push(video);}}return videos;};const handleNext=()=>{setInitialId(prevId=>(prevId+visibleVideos)%videoList.length);};const handlePrev=()=>{setInitialId(prevId=>(prevId-visibleVideos+videoList.length)%videoList.length);};const handleVideoPlay=videoId=>{if(currentVideoId&&currentVideoId!==videoId){const currentIframe=document.getElementById(`iframe-${currentVideoId}`);if(currentIframe){currentIframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\"*\");}}setCurrentVideoId(videoId);};if(!Array.isArray(videoList)){console.error(\"Invalid or empty videoList:\",videoList);return null;}if(videoList.length===0){return/*#__PURE__*/_jsx(\"p\",{className:\"no-videos-message\",children:\"No videos match your search.\"});}const displayVideos=getDisplayVideos(initialId);return/*#__PURE__*/_jsxs(\"div\",{className:\"video-slider\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"arrows-videos-container\",children:[videoList.length>visibleVideos&&/*#__PURE__*/_jsx(\"button\",{className:\"arrows\",onClick:handlePrev,children:\"\\u276E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"videos-container\",children:displayVideos.map(video=>/*#__PURE__*/_jsxs(\"div\",{className:\"video-item\",children:[/*#__PURE__*/_jsx(DriveVideoEmbed,{videoUrl:video.videoUrl,vertical:video.vertical,title:video.title,subtitle:video.subtitle,videoId:video.id,isPlaying:currentVideoId===video.id,onPlay:handleVideoPlay,thumbnail:video.thumbnail}),/*#__PURE__*/_jsx(\"h3\",{children:video.title}),/*#__PURE__*/_jsx(\"p\",{children:video.subtitle})]},video.id))}),videoList.length>visibleVideos&&/*#__PURE__*/_jsx(\"button\",{className:\"arrows\",onClick:handleNext,children:\"\\u276F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dots-container\",children:Array.from({length:videoList.length},(_,i)=>/*#__PURE__*/_jsx(\"span\",{className:`dot ${displayVideos.some(v=>v.listId===i)?\"active\":\"\"}`,onClick:()=>setInitialId(i)},i))})]});}export default VideoSlider;","map":{"version":3,"names":["React","useState","useRef","useEffect","DriveVideoEmbed","useMediaQuery","jsx","_jsx","jsxs","_jsxs","VideoSlider","_ref","videoList","currentVideoId","setCurrentVideoId","isDesktop","query","visibleVideos","initialId","setInitialId","assignListIds","videos","map","video","listId","getDisplayVideos","startIndex","i","length","undefined","some","v","push","handleNext","prevId","handlePrev","handleVideoPlay","videoId","currentIframe","document","getElementById","contentWindow","postMessage","Array","isArray","console","error","className","children","displayVideos","onClick","videoUrl","vertical","title","subtitle","id","isPlaying","onPlay","thumbnail","from","_"],"sources":["C:/Users/mirei/Desktop/video-gallery/src/VideoSlider.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport DriveVideoEmbed from \"./DriveVideoEmbed.jsx\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nfunction VideoSlider({ videoList, currentVideoId, setCurrentVideoId }) {\r\n    const isDesktop = useMediaQuery({ query: \"(min-width: 801px)\" });\r\n    const visibleVideos = isDesktop ? 4 : 2;\r\n    const [initialId, setInitialId] = useState(0);\r\n\r\n    function assignListIds(videos) {\r\n        return videos.map((video, listId) => ({ ...video, listId }));\r\n    }\r\n\r\n    videoList = assignListIds(videoList);\r\n\r\n    const getDisplayVideos = (startIndex) => {\r\n        const videos = [];\r\n        for (let i = 0; i < visibleVideos; i++) {\r\n            const video = videoList[(startIndex + i) % videoList.length];\r\n            if (video && video.listId !== undefined && !videos.some((v) => v.listId === video.listId)) {\r\n                videos.push(video);\r\n            }\r\n        }\r\n        return videos;\r\n    };\r\n\r\n    const handleNext = () => {\r\n        setInitialId((prevId) => (prevId + visibleVideos) % videoList.length);\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        setInitialId((prevId) => (prevId - visibleVideos + videoList.length) % videoList.length);\r\n    };\r\n\r\n    const handleVideoPlay = (videoId) => {\r\n        if (currentVideoId && currentVideoId !== videoId) {\r\n            const currentIframe = document.getElementById(`iframe-${currentVideoId}`);\r\n            if (currentIframe) {\r\n                currentIframe.contentWindow.postMessage(\r\n                    '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\r\n                    \"*\"\r\n                );\r\n            }\r\n        }\r\n\r\n        setCurrentVideoId(videoId);\r\n    };\r\n\r\n    if (!Array.isArray(videoList)) {\r\n        console.error(\"Invalid or empty videoList:\", videoList);\r\n        return null;\r\n    }\r\n\r\n    if (videoList.length === 0) {\r\n        return <p className=\"no-videos-message\">No videos match your search.</p>;\r\n    }\r\n\r\n    const displayVideos = getDisplayVideos(initialId);\r\n\r\n    return (\r\n        <div className=\"video-slider\">\r\n            <div className=\"arrows-videos-container\">\r\n                {videoList.length > visibleVideos && (\r\n                    <button className=\"arrows\" onClick={handlePrev}>\r\n                        &#10094;\r\n                    </button>\r\n                )}\r\n\r\n                <div className=\"videos-container\">\r\n                    {displayVideos.map((video) => (\r\n                        <div key={video.id} className=\"video-item\">\r\n                            <DriveVideoEmbed\r\n                                videoUrl={video.videoUrl}\r\n                                vertical={video.vertical}\r\n                                title={video.title}\r\n                                subtitle={video.subtitle}\r\n                                videoId={video.id}\r\n                                isPlaying={currentVideoId === video.id}\r\n                                onPlay={handleVideoPlay}\r\n                                thumbnail={video.thumbnail}\r\n                            />\r\n                            <h3>{video.title}</h3>\r\n                            <p>{video.subtitle}</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {videoList.length > visibleVideos && (\r\n                    <button className=\"arrows\" onClick={handleNext}>\r\n                        &#10095;\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"dots-container\">\r\n                {Array.from({ length: videoList.length }, (_, i) => (\r\n                    <span\r\n                        key={i}\r\n                        className={`dot ${displayVideos.some((v) => v.listId === i) ? \"active\" : \"\"}`}\r\n                        onClick={() => setInitialId(i)}\r\n                    ></span>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VideoSlider;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}